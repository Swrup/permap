let f thread_view thread_id request =
<script type="text/javascript" src="/assets/js/js_thread.js" defer="defer"></script>
      <%s! thread_view %>
% begin match Dream.session "nick" request with
% | None ->

% | Some _ ->
    <div class="postForm">
        <%s! Dream.form_tag ~action:( Format.sprintf "/reply/%s" thread_id)
        ~enctype:`Multipart_form_data request %>

        <label for="replyComment" id="replyCommentLabel" class="form-label">Comment:</label>
        <textarea name="replyComment" type="text" class="form-control" id="replyComment" aria-labelledby="replyCommentLabel"></textarea>

        <label for="tags" id="tagsLabel" class="form-label">Tags:</label>
        <input name="tags" type="text" class="form-control" id="tags" aria-labelledby="tagsLabel"></input>

        <label for="file" id="fileLabel" class="form-label">Picture:</label>
        <input id="file" name="file" aria-describedby="fileLabel" type="file" accept="image/*">
      <button type="submit" class="btn btn-primary">Reply</button>
      </div>
    </form>
% end;
